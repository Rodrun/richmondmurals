(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{17:function(e,t,a){e.exports=a(57)},22:function(e,t,a){},26:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(10),s=a.n(r),c=(a(22),a(23),a(5)),i=a.n(c),l=a(11),u=a(12),m=a(13),d=a(15),p=a(16),f=(a(25),a(26),a(1)),h=a.n(f),g=a(14),v=a.n(g);h.a.accessToken="pk.eyJ1IjoianVhbm1lbmRnIiwiYSI6ImNrZGRqZ3F5YzFucm8ydXBkNmRraWVyZW4ifQ.fOgpbBWhLUa-hTut1Q5cRw";var b=function(e){Object(p.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).callBackendAPI=Object(l.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/list");case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,200===t.status){e.next=8;break}throw Error(a.message);case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)}))),n.state={data:null,lng:-77.44,lat:37.53,zoom:10},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=new h.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v11",center:[this.state.lng,this.state.lat],zoom:this.state.zoom});t.loadImage("https://docs.mapbox.com/mapbox-gl-js/assets/custom_marker.png",(function(e,a){if(e)throw e;t.addImage("custom-marker",a)})),t.addControl(new h.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),t.on("move",(function(){e.setState({lng:t.getCenter().lng.toFixed(4),lat:t.getCenter().lat.toFixed(4),zoom:t.getZoom().toFixed(2)})}));var a=function(t){for(var a=[],n=0;n<e.state.data.features.length;n++){var o=e.state.data.features[n];o.properties.title.toLowerCase().includes(t.toLowerCase())&&(o.place_name="Mural:"+o.properties.title,o.center=o.geometry.coordinates,o.place_type=["mural"],a.push(o))}return a};t.on("mouseenter","points",(function(){t.getCanvas().style.cursor="pointer"})),t.on("mouseleave","points",(function(){t.getCanvas().style.cursor=""})),t.on("load",(function(){e.callBackendAPI().then((function(n){e.setState({data:{type:"FeatureCollection",features:n.murals}}),t.addControl(new v.a({accessToken:h.a.accessToken,placeHolder:"Search",localGeocoder:a,mapboxgl:h.a})),t.addSource("murals",{type:"geojson",data:e.state.data}),t.addLayer({id:"points",type:"symbol",source:"murals",layout:{"icon-image":"custom-marker","text-field":["get","title"],"text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-offset":[0,1.25],"text-anchor":"top"}}),t.on("click","points",(function(e){for(var a=e.features[0].geometry.coordinates.slice(),n=e.features[0].properties.desc;Math.abs(e.lngLat.lng-a[0])>180;)a[0]+=e.lngLat.lng>a[0]?360:-360;(new h.a.Popup).setLngLat(a).setHTML(n).addTo(t)}))})).catch((function(e){return console.log(e)}))}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"menubarStyle"}),o.a.createElement("div",{className:"sidebarStyle"},o.a.createElement("div",null,"Longitude: ",this.state.lng," | Latitude: ",this.state.lat," | Zoom: ",this.state.zoom)),o.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"mapContainer"}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.a18c774b.chunk.js.map